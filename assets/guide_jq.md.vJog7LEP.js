import{_ as i,o as s,c as e,ag as t}from"./chunks/framework.gFULg22W.js";const k=JSON.parse('{"title":"JQ Transformations","description":"","frontmatter":{},"headers":[],"relativePath":"guide/jq.md","filePath":"guide/jq.md"}'),n={name:"guide/jq.md"};function r(l,a,o,h,p,d){return s(),e("div",null,[...a[0]||(a[0]=[t(`<h1 id="jq-transformations" tabindex="-1">JQ Transformations <a class="header-anchor" href="#jq-transformations" aria-label="Permalink to &quot;JQ Transformations&quot;">​</a></h1><p>Apiary includes a powerful JQ processor for filtering, transforming, and manipulating JSON data.</p><h2 id="creating-a-jq-request" tabindex="-1">Creating a JQ Request <a class="header-anchor" href="#creating-a-jq-request" aria-label="Permalink to &quot;Creating a JQ Request&quot;">​</a></h2><ol><li>Click <strong>File → New Request</strong> and select <strong>JQ</strong></li><li>Provide JSON input (or select from another request&#39;s output)</li><li>Write JQ query</li><li>View transformed output</li></ol><h2 id="input-sources" tabindex="-1">Input Sources <a class="header-anchor" href="#input-sources" aria-label="Permalink to &quot;Input Sources&quot;">​</a></h2><h3 id="direct-input" tabindex="-1">Direct Input <a class="header-anchor" href="#direct-input" aria-label="Permalink to &quot;Direct Input&quot;">​</a></h3><p>Paste or type JSON directly into the input editor.</p><h3 id="from-request-response" tabindex="-1">From Request Response <a class="header-anchor" href="#from-request-response" aria-label="Permalink to &quot;From Request Response&quot;">​</a></h3><p>Select output from another request as input for JQ transformation.</p><h3 id="from-file" tabindex="-1">From File <a class="header-anchor" href="#from-file" aria-label="Permalink to &quot;From File&quot;">​</a></h3><p>Load JSON from a local file.</p><h2 id="jq-editor" tabindex="-1">JQ Editor <a class="header-anchor" href="#jq-editor" aria-label="Permalink to &quot;JQ Editor&quot;">​</a></h2><h3 id="query-syntax" tabindex="-1">Query Syntax <a class="header-anchor" href="#query-syntax" aria-label="Permalink to &quot;Query Syntax&quot;">​</a></h3><p>Write JQ queries using the full JQ language syntax:</p><ul><li><strong>Basic filter</strong>: <code>.</code> (identity)</li><li><strong>Field access</strong>: <code>.field</code>, <code>.field.subfield</code></li><li><strong>Array iteration</strong>: <code>.[]</code>, <code>.[0]</code>, <code>.[:5]</code></li><li><strong>Object construction</strong>: <code>{key: value}</code></li><li><strong>Functions</strong>: <code>length</code>, <code>keys</code>, <code>map</code>, <code>select</code>, etc.</li></ul><h3 id="auto-completion" tabindex="-1">Auto-completion <a class="header-anchor" href="#auto-completion" aria-label="Permalink to &quot;Auto-completion&quot;">​</a></h3><p>Apiary provides JQ function and syntax suggestions.</p><h3 id="multiple-queries" tabindex="-1">Multiple Queries <a class="header-anchor" href="#multiple-queries" aria-label="Permalink to &quot;Multiple Queries&quot;">​</a></h3><p>Separate multiple queries with newlines; each produces independent output.</p><h2 id="performing-transformations" tabindex="-1">Performing Transformations <a class="header-anchor" href="#performing-transformations" aria-label="Permalink to &quot;Performing Transformations&quot;">​</a></h2><p>Click <strong>Perform</strong> to execute the JQ query. The transformed output appears in the right panel.</p><h2 id="output-display" tabindex="-1">Output Display <a class="header-anchor" href="#output-display" aria-label="Permalink to &quot;Output Display&quot;">​</a></h2><h3 id="formatted-json" tabindex="-1">Formatted JSON <a class="header-anchor" href="#formatted-json" aria-label="Permalink to &quot;Formatted JSON&quot;">​</a></h3><p>Output is pretty-printed with syntax highlighting and collapsible sections.</p><h3 id="raw-output" tabindex="-1">Raw Output <a class="header-anchor" href="#raw-output" aria-label="Permalink to &quot;Raw Output&quot;">​</a></h3><p>Toggle between formatted and raw output views.</p><h3 id="multiple-results" tabindex="-1">Multiple Results <a class="header-anchor" href="#multiple-results" aria-label="Permalink to &quot;Multiple Results&quot;">​</a></h3><p>If the query produces multiple results, they are displayed as separate items.</p><h2 id="example-basic-filtering" tabindex="-1">Example: Basic Filtering <a class="header-anchor" href="#example-basic-filtering" aria-label="Permalink to &quot;Example: Basic Filtering&quot;">​</a></h2><p>Input JSON:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Alice&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;active&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Bob&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;active&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Charlie&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;active&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>JQ query:</p><div class="language-jq vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jq</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>.users[] | select(.active == true) | {id, name}</span></span></code></pre></div><p>Output:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Alice&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Charlie&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="example-data-transformation" tabindex="-1">Example: Data Transformation <a class="header-anchor" href="#example-data-transformation" aria-label="Permalink to &quot;Example: Data Transformation&quot;">​</a></h2><div class="language-jq vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jq</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># Group users by active status</span></span>
<span class="line"><span>.users | group_by(.active) | map({status: (if .[0].active then &quot;active&quot; else &quot;inactive&quot; end), count: length, users: map(.name)})</span></span></code></pre></div><h2 id="advanced-features" tabindex="-1">Advanced Features <a class="header-anchor" href="#advanced-features" aria-label="Permalink to &quot;Advanced Features&quot;">​</a></h2><h3 id="variable-binding" tabindex="-1">Variable Binding <a class="header-anchor" href="#variable-binding" aria-label="Permalink to &quot;Variable Binding&quot;">​</a></h3><p>Use <code>as</code> for variable binding in complex queries.</p><h3 id="modules" tabindex="-1">Modules <a class="header-anchor" href="#modules" aria-label="Permalink to &quot;Modules&quot;">​</a></h3><p>Import JQ modules for extended functionality.</p><h3 id="streaming" tabindex="-1">Streaming <a class="header-anchor" href="#streaming" aria-label="Permalink to &quot;Streaming&quot;">​</a></h3><p>Process large JSON inputs with streaming mode.</p><h3 id="error-handling" tabindex="-1">Error Handling <a class="header-anchor" href="#error-handling" aria-label="Permalink to &quot;Error Handling&quot;">​</a></h3><p>JQ errors are displayed with line numbers and helpful messages.</p><h2 id="integration-with-other-requests" tabindex="-1">Integration with Other Requests <a class="header-anchor" href="#integration-with-other-requests" aria-label="Permalink to &quot;Integration with Other Requests&quot;">​</a></h2><p>JQ can be used as a post-processing step for any JSON response:</p><ol><li>Perform an HTTP request that returns JSON</li><li>Click the JQ button in the response toolbar</li><li>Write JQ query to filter the response</li><li>View filtered results inline</li></ol><h2 id="performance-tips" tabindex="-1">Performance Tips <a class="header-anchor" href="#performance-tips" aria-label="Permalink to &quot;Performance Tips&quot;">​</a></h2><ul><li>Use streaming mode for large inputs</li><li>Apply filters early in the pipeline</li><li>Use <code>--compact-output</code> for machine-readable output</li></ul><h2 id="next-steps" tabindex="-1">Next Steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next Steps&quot;">​</a></h2><p>Learn about other request types like <a href="/apiary/guide/http.html">HTTP</a> and <a href="/apiary/guide/sql.html">SQL</a>.</p>`,53)])])}const c=i(n,[["render",r]]);export{k as __pageData,c as default};
