import{_ as a,o as t,c as i,ag as s}from"./chunks/framework.gFULg22W.js";const c=JSON.parse('{"title":"SQL Queries","description":"","frontmatter":{},"headers":[],"relativePath":"guide/sql.md","filePath":"guide/sql.md"}'),r={name:"guide/sql.md"};function n(l,e,o,h,d,p){return t(),i("div",null,[...e[0]||(e[0]=[s('<h1 id="sql-queries" tabindex="-1">SQL Queries <a class="header-anchor" href="#sql-queries" aria-label="Permalink to &quot;SQL Queries&quot;">​</a></h1><p>Apiary supports querying various SQL databases with a unified interface, including SQLite, PostgreSQL, ClickHouse, and more.</p><h2 id="creating-a-sql-request" tabindex="-1">Creating a SQL Request <a class="header-anchor" href="#creating-a-sql-request" aria-label="Permalink to &quot;Creating a SQL Request&quot;">​</a></h2><ol><li>Click <strong>File → New Request</strong> and select <strong>SQL</strong></li><li>Configure the database connection</li><li>Write your SQL query</li></ol><h2 id="database-connection" tabindex="-1">Database Connection <a class="header-anchor" href="#database-connection" aria-label="Permalink to &quot;Database Connection&quot;">​</a></h2><h3 id="connection-types" tabindex="-1">Connection Types <a class="header-anchor" href="#connection-types" aria-label="Permalink to &quot;Connection Types&quot;">​</a></h3><p>Supported database types:</p><ul><li><strong>SQLite</strong>: Local SQLite database files</li><li><strong>PostgreSQL</strong>: PostgreSQL servers</li><li><strong>ClickHouse</strong>: ClickHouse columnar database</li><li><strong>MySQL</strong>: MySQL/MariaDB servers</li><li><strong>SQL Server</strong>: Microsoft SQL Server</li></ul><h3 id="connection-string" tabindex="-1">Connection String <a class="header-anchor" href="#connection-string" aria-label="Permalink to &quot;Connection String&quot;">​</a></h3><p>Enter the connection string (DSN) for your database:</p><table tabindex="0"><thead><tr><th>Database</th><th>Example DSN</th></tr></thead><tbody><tr><td>SQLite</td><td><code>file:data.db</code></td></tr><tr><td>PostgreSQL</td><td><code>postgres://user:pass@localhost:5432/dbname</code></td></tr><tr><td>ClickHouse</td><td><code>tcp://localhost:9000?database=default</code></td></tr><tr><td>MySQL</td><td><code>user:pass@tcp(localhost:3306)/dbname</code></td></tr></tbody></table><h3 id="advanced-connection-options" tabindex="-1">Advanced Connection Options <a class="header-anchor" href="#advanced-connection-options" aria-label="Permalink to &quot;Advanced Connection Options&quot;">​</a></h3><p>Click the gear icon next to the connection string to configure:</p><ul><li><strong>Read-only</strong>: Prevent accidental modifications</li><li><strong>Timeout</strong>: Query timeout in seconds</li><li><strong>SSL/TLS</strong>: Secure connection settings</li><li><strong>Connection Pooling</strong>: Pool size and settings</li></ul><h2 id="writing-queries" tabindex="-1">Writing Queries <a class="header-anchor" href="#writing-queries" aria-label="Permalink to &quot;Writing Queries&quot;">​</a></h2><h3 id="sql-editor" tabindex="-1">SQL Editor <a class="header-anchor" href="#sql-editor" aria-label="Permalink to &quot;SQL Editor&quot;">​</a></h3><p>The SQL editor provides:</p><ul><li>Syntax highlighting for SQL</li><li>Auto-completion based on database schema</li><li>Query formatting with <code>Ctrl+Shift+F</code></li><li>Multiple query execution (separate queries with <code>;</code>)</li></ul><h3 id="query-languages" tabindex="-1">Query Languages <a class="header-anchor" href="#query-languages" aria-label="Permalink to &quot;Query Languages&quot;">​</a></h3><p>In addition to raw SQL, Apiary supports:</p><ul><li><strong>PRQL</strong>: Pipelined Relational Query Language</li><li><strong>PQL</strong>: Proprietary query languages via plugins</li></ul><p>Select your query language from the dropdown next to the editor.</p><h3 id="query-parameters" tabindex="-1">Query Parameters <a class="header-anchor" href="#query-parameters" aria-label="Permalink to &quot;Query Parameters&quot;">​</a></h3><p>Use prepared statements with parameters to prevent SQL injection:</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> users </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ? </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AND</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> status</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ?</span></span></code></pre></div><p>Add parameter values in the parameters tab.</p><h2 id="performing-queries" tabindex="-1">Performing Queries <a class="header-anchor" href="#performing-queries" aria-label="Permalink to &quot;Performing Queries&quot;">​</a></h2><p>Click the <strong>Perform</strong> button or press <code>Ctrl+Enter</code>. The results will appear in the right panel.</p><h2 id="results-display" tabindex="-1">Results Display <a class="header-anchor" href="#results-display" aria-label="Permalink to &quot;Results Display&quot;">​</a></h2><h3 id="table-view" tabindex="-1">Table View <a class="header-anchor" href="#table-view" aria-label="Permalink to &quot;Table View&quot;">​</a></h3><p>Query results are displayed as interactive tables:</p><ul><li><strong>Sorting</strong>: Click column headers to sort</li><li><strong>Filtering</strong>: Use the filter bar above the table</li><li><strong>Pagination</strong>: Navigate through large result sets</li><li><strong>Column Resizing</strong>: Drag column borders to resize</li><li><strong>Column Reordering</strong>: Drag column headers to reorder</li></ul><h3 id="export-options" tabindex="-1">Export Options <a class="header-anchor" href="#export-options" aria-label="Permalink to &quot;Export Options&quot;">​</a></h3><p>Export query results as:</p><ul><li><strong>CSV</strong>: Comma-separated values</li><li><strong>JSON</strong>: Array of objects</li><li><strong>SQL INSERT</strong>: INSERT statements for the data</li><li><strong>Clipboard</strong>: Copy selected cells or entire table</li></ul><h3 id="multiple-result-sets" tabindex="-1">Multiple Result Sets <a class="header-anchor" href="#multiple-result-sets" aria-label="Permalink to &quot;Multiple Result Sets&quot;">​</a></h3><p>If your query returns multiple result sets (e.g., multiple SELECT statements), use the tabs at the bottom of the results panel to switch between them.</p><h2 id="sqlsource-integration" tabindex="-1">SQLSource Integration <a class="header-anchor" href="#sqlsource-integration" aria-label="Permalink to &quot;SQLSource Integration&quot;">​</a></h2><p>Import an entire database schema as a <strong>SQLSource</strong> to browse tables, views, and stored procedures without writing queries.</p><h2 id="example-querying-sqlite" tabindex="-1">Example: Querying SQLite <a class="header-anchor" href="#example-querying-sqlite" aria-label="Permalink to &quot;Example: Querying SQLite&quot;">​</a></h2><ol><li>Create a new SQL request</li><li>Select <strong>SQLite</strong> as database type</li><li>Enter <code>file:example.db</code> as connection string</li><li>Write your query:</li></ol><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> id, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, email </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> users </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> active </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> created_at </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DESC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><ol start="5"><li>Click <strong>Perform</strong></li></ol><h2 id="example-using-query-parameters" tabindex="-1">Example: Using Query Parameters <a class="header-anchor" href="#example-using-query-parameters" aria-label="Permalink to &quot;Example: Using Query Parameters&quot;">​</a></h2><ol><li>Write a parameterized query:</li></ol><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> products </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> category </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ? </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AND</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> price </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ?;</span></span></code></pre></div><ol start="2"><li>Switch to the <strong>Parameters</strong> tab</li><li>Add two parameters: <ul><li><code>electronics</code> (string)</li><li><code>100</code> (number)</li></ul></li><li>Click <strong>Perform</strong></li></ol><h2 id="advanced-features" tabindex="-1">Advanced Features <a class="header-anchor" href="#advanced-features" aria-label="Permalink to &quot;Advanced Features&quot;">​</a></h2><h3 id="query-history" tabindex="-1">Query History <a class="header-anchor" href="#query-history" aria-label="Permalink to &quot;Query History&quot;">​</a></h3><p>Apiary keeps a history of all executed queries. Access it via <strong>View → Query History</strong>.</p><h3 id="query-templates" tabindex="-1">Query Templates <a class="header-anchor" href="#query-templates" aria-label="Permalink to &quot;Query Templates&quot;">​</a></h3><p>Save commonly used queries as templates for quick reuse.</p><h3 id="transaction-support" tabindex="-1">Transaction Support <a class="header-anchor" href="#transaction-support" aria-label="Permalink to &quot;Transaction Support&quot;">​</a></h3><p>Enable transaction mode to execute multiple queries within a single transaction.</p><h2 id="performance-tips" tabindex="-1">Performance Tips <a class="header-anchor" href="#performance-tips" aria-label="Permalink to &quot;Performance Tips&quot;">​</a></h2><ul><li>Use <strong>Explain</strong> button to see query execution plan</li><li>Enable <strong>Query timeout</strong> to prevent long-running queries</li><li>Use <strong>Read-only</strong> connections for production databases</li><li>Limit result sets with <code>LIMIT</code> clauses</li></ul><h2 id="next-steps" tabindex="-1">Next Steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next Steps&quot;">​</a></h2><ul><li>Learn about <a href="/apiary/guide/sqlsource.html">SQLSource</a> for browsing database schemas</li><li>Explore <a href="/apiary/guide/jq.html">JQ transformations</a> for processing query results as JSON</li></ul>',58)])])}const g=a(r,[["render",n]]);export{c as __pageData,g as default};
